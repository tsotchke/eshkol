;; Final tensor functionality test

(define (main)
  ;; Create vectors
  (define v1 (vector 1 2 3 4 5))
  (define v2 (vector 10 20 30 40 50))
  
  ;; Test basic tensor operations
  (define v_sum (tensor-add v1 v2))
  
  ;; Test tensor-apply with different functions  
  (define v_doubled (tensor-apply v1 double))
  (define v_squared (tensor-apply v1 square))
  (define v_incremented (tensor-apply v1 increment))
  
  ;; Test tensor-reduce with different operations
  (define sum_result (tensor-reduce v1 + 0))
  (define product_result (tensor-reduce v1 * 1))
  (define max_result (tensor-reduce v1 max 0))
  
  ;; Test 2D matrix operations  
  (define m1 (matrix 2 2 1 2 3 4))
  (define m_doubled (tensor-apply m1 double))
  
  ;; Test 3D tensor
  (define t1 (tensor 2 2 2 1 2 3 4 5 6 7 8))
  (define t_incremented (tensor-apply t1 increment))
  
  ;; All operations completed successfully
  0)