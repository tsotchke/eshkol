;; Simple test of tensor-apply and tensor-reduce

(define (main)
  ;; Create simple vector
  (define v1 (vector 2 4 6))
  
  ;; Test tensor-apply operations
  (define v_doubled (tensor-apply v1 double))      ;; 2*2 = 4
  (define v_squared (tensor-apply v1 square))      ;; 2*2 = 4
  (define v_incremented (tensor-apply v1 increment)) ;; 2+1 = 3
  (define v_negated (tensor-apply v1 negate))      ;; -2
  
  ;; Test tensor-reduce operations
  (define sum_result (tensor-reduce v1 + 0))       ;; 0+2 = 2
  (define product_result (tensor-reduce v1 * 1))   ;; 1*2 = 2
  (define max_result (tensor-reduce v1 max 0))     ;; max(0,2) = 2
  (define min_result (tensor-reduce v1 min 10))    ;; min(10,2) = 2
  
  ;; Test with 2D matrix
  (define m1 (matrix 2 2 5 10 15 20))
  (define m_doubled (tensor-apply m1 double))      ;; 5*2 = 10
  (define m_sum (tensor-reduce m1 + 0))            ;; 0+5 = 5
  
  0)