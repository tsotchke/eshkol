;; Test string conversions with tensor operations

(define (main)
  (printf "=== Testing String Conversions with Tensor Operations ===\n")
  
  ;; Create a vector and show original and after operations
  (define v1 (vector 2 4 6 8))
  (printf "Original vector: %s\n" (vector-to-string v1))
  
  ;; Apply operations and show results
  (define v1_doubled (tensor-apply v1 double))
  (printf "After doubling: %s\n" (vector-to-string v1_doubled))
  
  (define v1_squared (tensor-apply v1 square))
  (printf "After squaring: %s\n" (vector-to-string v1_squared))
  
  ;; Test reductions
  (define sum_result (tensor-reduce v1 + 0))
  (printf "Sum of %s = %d\n" (vector-to-string v1) sum_result)
  
  ;; Create a matrix and show operations
  (define m1 (matrix 2 3 1 2 3 4 5 6))
  (printf "\nOriginal matrix: %s\n" (matrix-to-string m1))
  
  (define m1_doubled (tensor-apply m1 double))
  (printf "Matrix after doubling: %s\n" (matrix-to-string m1_doubled))
  
  (define matrix_sum (tensor-reduce m1 + 0))
  (printf "Sum of matrix elements: %d\n" matrix_sum)
  
  ;; Test dimensional reduction with string output
  (define row_sums (tensor-reduce m1 + 0 0))
  (printf "Row sums result (as tensor): %s\n" (vector-to-string row_sums))
  
  (printf "\n=== All tests completed ===\n")
  0)