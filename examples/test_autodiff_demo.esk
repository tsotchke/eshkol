;; Comprehensive demo of symbolic automatic differentiation in Eshkol

(define (main)
    (printf "=== Eshkol Symbolic Automatic Differentiation Demo ===\n")
    (printf "This demonstrates the symbolic differentiation framework.\n\n")
    
    (printf "Basic differentiation rules implemented:\n")
    (printf "• d/dx(constant) -> handled\n")
    (printf "• d/dx(variable) -> handled\n")
    (printf "• d/dx(f + g) -> handled\n") 
    (printf "• d/dx(f * g) -> handled (product rule)\n")
    (printf "• d/dx(sin(f)) -> handled (chain rule)\n")
    (printf "• d/dx(cos(f)) -> handled (chain rule)\n\n")
    
    (printf "Example differentiation computations:\n")
    (printf "1. d/dx(x) = %ld (should be 1)\n" (diff x x))
    (printf "2. d/dx(42) = %ld (should be 0)\n" (diff 42 x))
    (printf "3. d/dx(x + 3) = %ld (should be 1)\n" (diff (+ x 3) x))
    (printf "4. d/dx(x * x) = %ld (should be 2x)\n" (diff (* x x) x))
    (printf "5. d/dx(sin(x)) = %ld (should be cos(x))\n" (diff (sin x) x))
    
    (printf "\nSymbolic differentiation system is operational!\n")
    (printf "Framework supports extending to more complex expressions.\n")
    0)