; Test apply-twice closure
(display "=== Apply Twice Closure Test ===")
(newline)

(define (apply-twice f)
  (lambda (x) (f (f x))))

(define double (lambda (x) (* x 2)))
(display "double defined")
(newline)

(define quadruple (apply-twice double))
(display "quadruple defined")
(newline)

(display "quadruple 3 = ")
(display (quadruple 3))
(newline)

(display "Done")
(newline)
