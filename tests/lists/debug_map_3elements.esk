;; Map debugging test with 3 elements (like original failing test)

(require stdlib)

(display "=== MAP 3-ELEMENT DEBUG TEST ===")
(newline)

;; Test with exact same data as original failing test
(define list1 (list 1 2 3))
(define list2 (list 4 5 6))
(display "List1: ")
(display (car list1)) (display " ") (display (cadr list1)) (display " ") (display (caddr list1))
(newline)
(display "List2: ")
(display (car list2)) (display " ") (display (cadr list2)) (display " ") (display (caddr list2))
(newline)

;; Test map with 2 lists (should produce (5 7 9))
(define result1 (map + list1 list2))
(display "Expected: 5 7 9")
(newline)
(display "Actual: ")
(display (car result1))
(if (null? (cdr result1))
    (display " (list has only 1 element)")
    (begin
        (display " ")
        (display (cadr result1))
        (if (null? (cddr result1))
            (display " (list has only 2 elements)")
            (begin
                (display " ")
                (display (caddr result1))
                (display " (list has 3 elements)")
            ))
    ))
(newline)

(display "=== END 3-ELEMENT DEBUG ===")
(newline)