;;
;; Phase 1B Split-At Test - Testing split-at function
;;

(require stdlib)

(display "=== SPLIT-AT TEST ===")
(newline)

;; Test 1: Basic split-at functionality
(display "1. Testing split-at function:")
(newline)
(define test-list (list 10 20 30 40 50))
(display "   Original list: 10 20 30 40 50")
(newline)

;; Split at index 2
(define split-result (split-at test-list 2))
(display "   split-at 2:")
(newline)

;; Extract prefix and suffix
(define prefix (car split-result))
(define suffix (cdr split-result))

(display "   Prefix: ")
(if (null? prefix)
    (display "EMPTY")
    (begin
        (display (car prefix)) (display " ")
        (if (null? (cdr prefix))
            (display "")
            (display (cadr prefix)))
    ))
(newline)

(display "   Suffix: ")
(if (null? suffix)
    (display "EMPTY")
    (begin
        (display (car suffix)) (display " ")
        (display (cadr suffix)) (display " ")
        (display (caddr suffix))
    ))
(newline)

;; Test 2: Edge cases
(display "2. Testing edge cases:")
(newline)

;; Split at 0 (empty prefix)
(define split-zero (split-at test-list 0))
(define prefix-zero (car split-zero))
(define suffix-zero (cdr split-zero))

(display "   split-at 0:")
(newline)
(display "   Prefix: ")
(if (null? prefix-zero) (display "EMPTY") (display "NOT EMPTY"))
(newline)
(display "   Suffix: ")
(display (car suffix-zero)) (display " ") (display (cadr suffix-zero))
(newline)

;; Split at end (empty suffix)
(define split-end (split-at test-list 5))
(define prefix-end (car split-end))
(define suffix-end (cdr split-end))

(display "   split-at 5:")
(newline)
(display "   Prefix: ")
(display (car prefix-end)) (display " ") (display (cadr prefix-end))
(newline)
(display "   Suffix: ")
(if (null? suffix-end) (display "EMPTY") (display "NOT EMPTY"))
(newline)

(display "=== SPLIT-AT TEST COMPLETE ===")
(newline)
