;; matmul test - matrix multiplication
(display "=== matmul ===") (newline)

;; Test with native tensors: A (2x3) * B (3x2) = C (2x2)
(define A (reshape (arange 6) 2 3))
(define B (reshape (arange 6) 3 2))
(display "A (2x3): ") (display A) (newline)
(display "B (3x2): ") (display B) (newline)
(display "A * B (2x2): ")
(display (matmul A B))
(newline)

;; Expected calculation:
;; A = [[0,1,2],[3,4,5]]
;; B = [[0,1],[2,3],[4,5]]
;; C[0,0] = 0*0 + 1*2 + 2*4 = 10
;; C[0,1] = 0*1 + 1*3 + 2*5 = 13
;; C[1,0] = 3*0 + 4*2 + 5*4 = 28
;; C[1,1] = 3*1 + 4*3 + 5*5 = 40
(display "Expected: #((10 13) (28 40))") (newline)
