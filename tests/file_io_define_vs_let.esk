; Test define vs let for port storage

(display "=== Test with let ===")
(newline)

; Write with let
(let ((out (open-output-file "let_test.txt")))
  (write-line "Hello from let" out)
  (close-port out))

; Read with let
(let ((in (open-input-file "let_test.txt")))
  (let ((line (read-line in)))
    (display "Let read: ")
    (display line)
    (newline))
  (close-port in))

(display "=== Test with define ===")
(newline)

; Write with define
(define out2 (open-output-file "define_test.txt"))
(write-line "Hello from define" out2)
(close-port out2)

; Read with define
(define in2 (open-input-file "define_test.txt"))
(define line2 (read-line in2))
(display "Define read: ")
(display line2)
(newline)
(close-port in2)

(display "Done")
(newline)
