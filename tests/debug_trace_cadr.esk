;; Debug trace for cadr issue
(require stdlib)

;; Simple identity to check type propagation
(define (trace-y v)
  (let ((tail (cdr v)))
    (display "After cdr, type check...")
    (newline)
    (let ((y (car tail)))
      (display "After car of tail, y = ")
      (display y)
      (newline)
      (* y y))))

(display "Gradient trace test:")
(newline)
(display "Gradient: ")
(display (gradient trace-y (vector 3.0 4.0)))
(newline)

0
