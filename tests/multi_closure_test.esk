;;; Test multiple closure instances

(define (make-adder n)
  (lambda (x) (+ x n)))

(define add5 (make-adder 5))
(define add10 (make-adder 10))
(define add20 (make-adder 20))

(display "Testing multiple closures:")
(newline)

(display "add5 3 = ")
(display (add5 3))  ; Should be 8
(newline)

(display "add10 3 = ")
(display (add10 3))  ; Should be 13
(newline)

(display "add20 3 = ")
(display (add20 3))  ; Should be 23
(newline)

;; Call again to make sure they're stable
(display "add5 7 = ")
(display (add5 7))  ; Should be 12
(newline)

(display "All done!")
(newline)
